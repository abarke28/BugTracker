@model BugTracker.Models.ViewModels.HomeIndexVm
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4 m-3">Board</h1>
    <div class="container">
        <div class="row">
            <div class="col col-3">
                <div class="jumbotron p-0 pb-1">
                    <div class="py-3">
                        <strong class="text-dark">TO DO</strong>
                    </div>
                    @{
                        var cards = Model.Bugs
                            .Where(b => ((b.Status & BugStatus.Open) == BugStatus.Open))
                            .OrderByDescending(b => b.DateSubmitted)
                            .Take(Model.CardCount);
                        foreach(var card in cards)
                        {
                            <div class="card mx-2 mb-2">
                                <div class="card-body p-1">
                                    <p class="card-text p-1">@card.Title</p>
                                    <div class="badge badge-info p-1">Project</div>
                                    <div>
                                        <partial name="_BugStatus" model="@card.Status" />
                                    </div>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
            <div class="col col-3">
                <div class="jumbotron p-0 pb-1">
                    <div class="py-3">
                        <strong class="text-dark">ASSIGNED</strong>
                    </div>
                    @{
                        cards = Model.Bugs
                            .Where(b => ((b.Status & BugStatus.Assigned) == BugStatus.Assigned))
                            .OrderByDescending(b => b.DateSubmitted)
                            .Take(Model.CardCount);
                        foreach (var card in cards)
                        {
                            <div class="card mx-2 mb-2">
                                <div class="card-body p-1">
                                    <p class="card-text p-1">@card.Title</p>
                                    <div class="badge badge-info p-1">Project</div>
                                    <div>
                                        <partial name="_BugStatus" model="@card.Status" />
                                    </div>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
            <div class="col col-3">
                <div class="jumbotron p-0 pb-1">
                    <div class="py-3">
                        <strong class="text-dark">CLOSED</strong>
                    </div>
                    @{
                        cards = Model.Bugs
                            .Where(b => ((b.Status & BugStatus.Closed) == BugStatus.Closed))
                            .OrderByDescending(b => b.DateSubmitted)
                            .Take(Model.CardCount);
                        foreach (var card in cards)
                        {
                            <div class="card mx-2 mb-2">
                                <div class="card-body p-1">
                                    <p class="card-text p-1">@card.Title</p>
                                    <div class="badge badge-info p-1">Project</div>
                                    <div>
                                        <partial name="_BugStatus" model="@card.Status" />
                                    </div>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
            <div class="col col-3">
                <div class="jumbotron p-0 pb-1">
                    <div class="py-3">
                        <strong class="text-dark">RESOLVED</strong>
                    </div>
                    @{
                        cards = Model.Bugs
                            .Where(b => ((b.Status & BugStatus.Resolved) == BugStatus.Resolved))
                            .OrderByDescending(b => b.DateSubmitted)
                            .Take(Model.CardCount);
                        foreach (var card in cards)
                        {
                            <div class="card mx-2 mb-2">
                                <div class="card-body p-1">
                                    <p class="card-text p-1">@card.Title</p>
                                    <div class="badge badge-info p-1">Project</div>
                                    <div>
                                        <partial name="_BugStatus" model="@card.Status" />
                                    </div>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
        </div>
    </div>
</div>